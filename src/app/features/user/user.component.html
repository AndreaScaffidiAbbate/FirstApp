<div class="d-flex justify-content-around align-items-center h-100 p-5">
  <div class="d-flex flex-column justify-content-center align-items-center w-25 bg-dark">
    <h4 class="text-light p-2">User Form</h4>
    <form  [formGroup]="userForm" (ngSubmit)="manageUser()">
      <div>
        <label for="name"></label>
        <input class="form-control" required minlength="3" maxlength="20" type="text" id="name" formControlName="name">
        <small class="text-danger fs-6"
               *ngIf="userForm.get('name')?.invalid && userForm.controls['name']?.touched
               || userForm.get('name')?.invalid && userForm.controls['name']?.dirty">*Campo obbligatorio</small>
      </div>
      <div>
        <label for="surname"></label>
        <input class="form-control" required minlength="3" maxlength="20" type="text" id="surname" formControlName="surname">
        <small class="text-danger fs-6"
               *ngIf="userForm.get('surname')?.invalid && userForm.controls['surname']?.touched
               || userForm.get('surname')?.invalid && userForm.controls['surname']?.dirty">*Campo obbligatorio</small>
      </div>
      <div>
        <label for="phoneNumber"></label>
        <input class="form-control" required minlength="10" maxlength="10" type="number"  id="phoneNumber" formControlName="phoneNumber">
        <small class="text-danger fs-6"
               *ngIf="userForm.get('phoneNumber')?.invalid && userForm.get('phoneNumber')?.touched">*Campo obbligatorio</small>
      </div>
      <button type="submit" class="btn btn-outline-light m-3" [disabled]="userForm.invalid" >Add User</button>
    </form>
  </div>
  <div class="w-75">
    <ul class="d-flex gap-5 list-unstyled align-items-center justify-content-center flex-wrap">
      <li *ngFor="let user of userList" class="card text-center p-3 w-25 bg-dark text-light ">
        <p>{{user.name}}</p>
        <p>{{user.surname}}</p>
        <p>{{user.phoneNumber}}</p>
        <div class="d-flex justify-content-around">
          <i class="fa fa-pencil-square text-light fa-2x btn" (click)="setUser(user.id)"></i>
          <i class="fa fa-eye text-light fa-2x btn" [routerLink]="'/service/details/'+ user.id" ></i>
          <i class="fa fa-trash text-danger fa-2x btn" (click)="openDialog(dialog, user.id)"></i>
        </div>
      </li>
    </ul>
  </div>
</div>

<ng-template #dialog>
  <h1 mat-dialog-title>Are u sure?</h1>
  <div mat-dialog-content>
    Would you like to delete this user?
  </div>
  <div mat-dialog-actions class="w-100 d-flex justify-content-around">
    <button mat-button mat-dialog-close class="btn btn-danger">No</button>
    <button mat-button mat-dialog-close cdkFocusInitial type="submit" class="btn btn-success" (click)="deleteUser()">Ok</button>
  </div>
</ng-template>


